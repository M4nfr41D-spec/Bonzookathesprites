<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BONZOOKAA Audio Generator</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: linear-gradient(135deg, #0a0a1a 0%, #1a1a3a 100%);
      color: #e0e0e0;
      min-height: 100vh;
      padding: 20px;
    }
    h1 { color: #00ffaa; margin-bottom: 20px; }
    h2 { color: #88ccff; margin: 20px 0 10px; font-size: 1.2em; }
    .container { max-width: 1000px; margin: 0 auto; }
    .info {
      background: rgba(0,255,170,0.1);
      border: 1px solid #00ffaa;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 20px;
    }
    .section {
      background: rgba(255,255,255,0.05);
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
    }
    button {
      background: linear-gradient(135deg, #00aa77, #00ffaa);
      color: #000;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      margin: 5px;
      transition: transform 0.1s;
    }
    button:hover { transform: scale(1.05); }
    button:active { transform: scale(0.95); }
    button.secondary {
      background: linear-gradient(135deg, #4466aa, #6688cc);
      color: #fff;
    }
    .sound-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }
    .sound-btn {
      background: rgba(100,150,255,0.2);
      border: 1px solid #4488ff;
      padding: 8px;
      font-size: 0.85em;
    }
    .sound-btn:hover {
      background: rgba(100,150,255,0.4);
    }
    .status {
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
    }
    .status.success { background: rgba(0,255,100,0.2); border: 1px solid #00ff66; }
    .status.error { background: rgba(255,100,100,0.2); border: 1px solid #ff6666; }
    .status.info { background: rgba(100,150,255,0.2); border: 1px solid #4488ff; }
    pre {
      background: #000;
      padding: 10px;
      border-radius: 5px;
      overflow-x: auto;
      font-size: 0.85em;
    }
    .download-list {
      max-height: 300px;
      overflow-y: auto;
      background: #000;
      padding: 10px;
      border-radius: 5px;
    }
    .download-item {
      display: flex;
      justify-content: space-between;
      padding: 5px 0;
      border-bottom: 1px solid #333;
    }
    .progress-bar {
      width: 100%;
      height: 20px;
      background: #333;
      border-radius: 10px;
      overflow: hidden;
      margin: 10px 0;
    }
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #00aa77, #00ffaa);
      transition: width 0.3s;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üîä BONZOOKAA Audio Generator</h1>
    
    <div class="info">
      <strong>Purpose:</strong> Generate placeholder audio files for testing the game's audio system.
      These are simple synthesized tones - replace with proper sound design later!
    </div>
    
    <div class="section">
      <h2>üéµ Audio Context Status</h2>
      <div id="ctxStatus" class="status info">Click any button to initialize audio...</div>
      <button onclick="initAudio()">Initialize Audio</button>
    </div>
    
    <div class="section">
      <h2>üîä Test Sounds</h2>
      <p>Click to preview each sound type:</p>
      <div class="sound-grid">
        <button class="sound-btn" onclick="playSound('shoot')">üî´ Player Shoot</button>
        <button class="sound-btn" onclick="playSound('enemyShoot')">üëæ Enemy Shoot</button>
        <button class="sound-btn" onclick="playSound('hit')">üí• Hit</button>
        <button class="sound-btn" onclick="playSound('explosion')">üí£ Explosion</button>
        <button class="sound-btn" onclick="playSound('pickup')">‚ú® Pickup</button>
        <button class="sound-btn" onclick="playSound('rare')">üíé Rare Pickup</button>
        <button class="sound-btn" onclick="playSound('legendary')">üåü Legendary</button>
        <button class="sound-btn" onclick="playSound('levelUp')">‚¨ÜÔ∏è Level Up</button>
        <button class="sound-btn" onclick="playSound('click')">üñ±Ô∏è UI Click</button>
        <button class="sound-btn" onclick="playSound('error')">‚ùå Error</button>
        <button class="sound-btn" onclick="playSound('shield')">üõ°Ô∏è Shield Hit</button>
        <button class="sound-btn" onclick="playSound('boss')">üëπ Boss Spawn</button>
      </div>
    </div>
    
    <div class="section">
      <h2>üì¶ Generate All Placeholders</h2>
      <p>Generate WAV files for all required sounds:</p>
      <button onclick="generateAll()">Generate All SFX (WAV)</button>
      <button class="secondary" onclick="downloadAll()">Download as ZIP</button>
      
      <div class="progress-bar" style="display:none" id="progressBar">
        <div class="progress-fill" id="progressFill" style="width:0%"></div>
      </div>
      
      <div id="downloadList" class="download-list" style="display:none"></div>
    </div>
    
    <div class="section">
      <h2>üìã Required Sound Files</h2>
      <pre id="fileList"></pre>
    </div>
    
    <div class="section">
      <h2>üéº Music (Manual)</h2>
      <p>Music tracks should be sourced separately. Recommended sources:</p>
      <ul style="margin-left: 20px; line-height: 1.8;">
        <li><a href="https://incompetech.com" style="color:#00ffaa">Incompetech</a> - Royalty-free music</li>
        <li><a href="https://freemusicarchive.org" style="color:#00ffaa">Free Music Archive</a></li>
        <li><a href="https://soundcloud.com/search?q=creative%20commons" style="color:#00ffaa">SoundCloud CC</a></li>
        <li><a href="https://www.youtube.com/audiolibrary" style="color:#00ffaa">YouTube Audio Library</a></li>
      </ul>
      <p style="margin-top:10px">Required tracks: hub.mp3, combat.mp3, combat_intense.mp3, boss.mp3, victory.mp3, death.mp3</p>
    </div>
  </div>
  
  <script>
    let audioCtx = null;
    const generatedFiles = [];
    
    // Sound definitions
    const SOUNDS = {
      // Player
      player_shoot_1: { type: 'laser', freq: 880, duration: 0.1 },
      player_shoot_2: { type: 'laser', freq: 920, duration: 0.1 },
      player_shoot_3: { type: 'laser', freq: 860, duration: 0.1 },
      player_hit: { type: 'impact', freq: 200, duration: 0.3 },
      player_death: { type: 'explosion', freq: 80, duration: 1.5 },
      shield_hit: { type: 'shield', freq: 600, duration: 0.2 },
      shield_break: { type: 'break', freq: 400, duration: 0.5 },
      
      // Enemy
      enemy_shoot_1: { type: 'laser', freq: 440, duration: 0.15 },
      enemy_shoot_2: { type: 'laser', freq: 460, duration: 0.15 },
      enemy_hit_1: { type: 'impact', freq: 300, duration: 0.2 },
      enemy_hit_2: { type: 'impact', freq: 320, duration: 0.2 },
      enemy_hit_3: { type: 'impact', freq: 280, duration: 0.2 },
      enemy_death_1: { type: 'explosion', freq: 150, duration: 0.5 },
      enemy_death_2: { type: 'explosion', freq: 140, duration: 0.5 },
      enemy_death_3: { type: 'explosion', freq: 160, duration: 0.5 },
      elite_spawn: { type: 'alert', freq: 500, duration: 0.8 },
      boss_spawn: { type: 'boss', freq: 100, duration: 2.0 },
      boss_death: { type: 'explosion', freq: 60, duration: 2.0 },
      
      // Pickups
      pickup_scrap_1: { type: 'coin', freq: 1200, duration: 0.1 },
      pickup_scrap_2: { type: 'coin', freq: 1300, duration: 0.1 },
      pickup_cell: { type: 'powerup', freq: 800, duration: 0.2 },
      pickup_health: { type: 'heal', freq: 600, duration: 0.3 },
      pickup_item: { type: 'item', freq: 700, duration: 0.3 },
      pickup_rare: { type: 'rare', freq: 900, duration: 0.5 },
      pickup_legendary: { type: 'legendary', freq: 1000, duration: 1.0 },
      
      // UI
      ui_click: { type: 'click', freq: 1000, duration: 0.05 },
      ui_hover: { type: 'click', freq: 1200, duration: 0.03 },
      ui_equip: { type: 'equip', freq: 500, duration: 0.2 },
      ui_unequip: { type: 'equip', freq: 400, duration: 0.15 },
      ui_error: { type: 'error', freq: 200, duration: 0.3 },
      ui_success: { type: 'success', freq: 800, duration: 0.2 },
      
      // World
      portal_open: { type: 'portal', freq: 300, duration: 1.0 },
      portal_enter: { type: 'warp', freq: 200, duration: 0.8 },
      zone_transition: { type: 'transition', freq: 400, duration: 0.5 },
      asteroid_hit: { type: 'impact', freq: 250, duration: 0.2 },
      asteroid_destroy: { type: 'explosion', freq: 180, duration: 0.4 },
      
      // Abilities
      sniper_windup: { type: 'charge', freq: 300, duration: 1.0 },
      corruption_dot: { type: 'dot', freq: 150, duration: 0.5 },
      repair_tether: { type: 'heal', freq: 500, duration: 0.3 },
      
      // Progression
      level_up: { type: 'fanfare', freq: 600, duration: 1.5 },
      skill_unlock: { type: 'unlock', freq: 700, duration: 0.8 },
      achievement: { type: 'achievement', freq: 800, duration: 1.0 }
    };
    
    function initAudio() {
      if (!audioCtx) {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      }
      if (audioCtx.state === 'suspended') {
        audioCtx.resume();
      }
      document.getElementById('ctxStatus').className = 'status success';
      document.getElementById('ctxStatus').textContent = '‚úÖ Audio initialized! Sample rate: ' + audioCtx.sampleRate + ' Hz';
    }
    
    function createSound(type, freq, duration) {
      if (!audioCtx) initAudio();
      
      const sampleRate = audioCtx.sampleRate;
      const samples = Math.floor(duration * sampleRate);
      const buffer = audioCtx.createBuffer(1, samples, sampleRate);
      const data = buffer.getChannelData(0);
      
      switch (type) {
        case 'laser':
          for (let i = 0; i < samples; i++) {
            const t = i / sampleRate;
            const env = Math.exp(-t * 20);
            const freqMod = freq * (1 + t * 5);
            data[i] = Math.sin(2 * Math.PI * freqMod * t) * env * 0.5;
          }
          break;
          
        case 'impact':
          for (let i = 0; i < samples; i++) {
            const t = i / sampleRate;
            const env = Math.exp(-t * 10);
            const noise = Math.random() * 2 - 1;
            data[i] = (Math.sin(2 * Math.PI * freq * t) * 0.5 + noise * 0.3) * env;
          }
          break;
          
        case 'explosion':
          for (let i = 0; i < samples; i++) {
            const t = i / sampleRate;
            const env = Math.exp(-t * 3);
            const noise = Math.random() * 2 - 1;
            const low = Math.sin(2 * Math.PI * freq * t);
            data[i] = (low * 0.4 + noise * 0.6) * env;
          }
          break;
          
        case 'coin':
          for (let i = 0; i < samples; i++) {
            const t = i / sampleRate;
            const env = Math.exp(-t * 30);
            data[i] = Math.sin(2 * Math.PI * freq * t) * env * 0.4;
          }
          break;
          
        case 'powerup':
          for (let i = 0; i < samples; i++) {
            const t = i / sampleRate;
            const env = 1 - t / duration;
            const sweep = freq + t * 500;
            data[i] = Math.sin(2 * Math.PI * sweep * t) * env * 0.4;
          }
          break;
          
        case 'fanfare':
          for (let i = 0; i < samples; i++) {
            const t = i / sampleRate;
            const env = Math.min(1, t * 5) * Math.exp(-t * 2);
            const f1 = Math.sin(2 * Math.PI * freq * t);
            const f2 = Math.sin(2 * Math.PI * freq * 1.5 * t);
            const f3 = Math.sin(2 * Math.PI * freq * 2 * t);
            data[i] = (f1 + f2 * 0.5 + f3 * 0.3) * env * 0.3;
          }
          break;
          
        case 'shield':
          for (let i = 0; i < samples; i++) {
            const t = i / sampleRate;
            const env = Math.exp(-t * 15);
            data[i] = Math.sin(2 * Math.PI * freq * t) * Math.sin(2 * Math.PI * 50 * t) * env * 0.5;
          }
          break;
          
        case 'boss':
          for (let i = 0; i < samples; i++) {
            const t = i / sampleRate;
            const env = Math.sin(Math.PI * t / duration);
            const f1 = Math.sin(2 * Math.PI * freq * t);
            const f2 = Math.sin(2 * Math.PI * freq * 1.5 * t);
            data[i] = (f1 + f2 * 0.5) * env * 0.4;
          }
          break;
          
        case 'click':
          for (let i = 0; i < samples; i++) {
            const t = i / sampleRate;
            const env = Math.exp(-t * 100);
            data[i] = Math.sin(2 * Math.PI * freq * t) * env * 0.3;
          }
          break;
          
        case 'error':
          for (let i = 0; i < samples; i++) {
            const t = i / sampleRate;
            const env = Math.exp(-t * 8);
            data[i] = Math.sin(2 * Math.PI * freq * t) * Math.sin(2 * Math.PI * 10 * t) * env * 0.5;
          }
          break;
          
        case 'legendary':
          for (let i = 0; i < samples; i++) {
            const t = i / sampleRate;
            const env = Math.min(1, t * 10) * Math.exp(-t * 1.5);
            const arp = [1, 1.25, 1.5, 2][Math.floor(t * 8) % 4];
            data[i] = Math.sin(2 * Math.PI * freq * arp * t) * env * 0.4;
          }
          break;
          
        default:
          // Generic tone
          for (let i = 0; i < samples; i++) {
            const t = i / sampleRate;
            const env = Math.exp(-t * (5 / duration));
            data[i] = Math.sin(2 * Math.PI * freq * t) * env * 0.4;
          }
      }
      
      return buffer;
    }
    
    function playSound(type) {
      if (!audioCtx) initAudio();
      
      const soundDefs = {
        shoot: { type: 'laser', freq: 880, duration: 0.1 },
        enemyShoot: { type: 'laser', freq: 440, duration: 0.15 },
        hit: { type: 'impact', freq: 300, duration: 0.2 },
        explosion: { type: 'explosion', freq: 100, duration: 0.8 },
        pickup: { type: 'coin', freq: 1200, duration: 0.1 },
        rare: { type: 'powerup', freq: 900, duration: 0.5 },
        legendary: { type: 'legendary', freq: 1000, duration: 1.0 },
        levelUp: { type: 'fanfare', freq: 600, duration: 1.5 },
        click: { type: 'click', freq: 1000, duration: 0.05 },
        error: { type: 'error', freq: 200, duration: 0.3 },
        shield: { type: 'shield', freq: 600, duration: 0.2 },
        boss: { type: 'boss', freq: 100, duration: 2.0 }
      };
      
      const def = soundDefs[type];
      const buffer = createSound(def.type, def.freq, def.duration);
      
      const source = audioCtx.createBufferSource();
      source.buffer = buffer;
      source.connect(audioCtx.destination);
      source.start();
    }
    
    function bufferToWav(buffer) {
      const numChannels = buffer.numberOfChannels;
      const sampleRate = buffer.sampleRate;
      const format = 1; // PCM
      const bitDepth = 16;
      
      const bytesPerSample = bitDepth / 8;
      const blockAlign = numChannels * bytesPerSample;
      
      const data = buffer.getChannelData(0);
      const samples = data.length;
      const dataSize = samples * blockAlign;
      const fileSize = 44 + dataSize;
      
      const arrayBuffer = new ArrayBuffer(fileSize);
      const view = new DataView(arrayBuffer);
      
      // RIFF header
      writeString(view, 0, 'RIFF');
      view.setUint32(4, fileSize - 8, true);
      writeString(view, 8, 'WAVE');
      
      // fmt chunk
      writeString(view, 12, 'fmt ');
      view.setUint32(16, 16, true);
      view.setUint16(20, format, true);
      view.setUint16(22, numChannels, true);
      view.setUint32(24, sampleRate, true);
      view.setUint32(28, sampleRate * blockAlign, true);
      view.setUint16(32, blockAlign, true);
      view.setUint16(34, bitDepth, true);
      
      // data chunk
      writeString(view, 36, 'data');
      view.setUint32(40, dataSize, true);
      
      // Write samples
      let offset = 44;
      for (let i = 0; i < samples; i++) {
        const sample = Math.max(-1, Math.min(1, data[i]));
        view.setInt16(offset, sample < 0 ? sample * 0x8000 : sample * 0x7FFF, true);
        offset += 2;
      }
      
      return new Blob([arrayBuffer], { type: 'audio/wav' });
    }
    
    function writeString(view, offset, string) {
      for (let i = 0; i < string.length; i++) {
        view.setUint8(offset + i, string.charCodeAt(i));
      }
    }
    
    async function generateAll() {
      if (!audioCtx) initAudio();
      
      generatedFiles.length = 0;
      const names = Object.keys(SOUNDS);
      const total = names.length;
      let done = 0;
      
      document.getElementById('progressBar').style.display = 'block';
      document.getElementById('downloadList').style.display = 'block';
      document.getElementById('downloadList').innerHTML = '';
      
      for (const name of names) {
        const def = SOUNDS[name];
        const buffer = createSound(def.type, def.freq, def.duration);
        const blob = bufferToWav(buffer);
        
        generatedFiles.push({ name: name + '.wav', blob });
        
        // Add to list
        const item = document.createElement('div');
        item.className = 'download-item';
        item.innerHTML = `<span>${name}.wav</span><span>${(blob.size / 1024).toFixed(1)} KB</span>`;
        document.getElementById('downloadList').appendChild(item);
        
        done++;
        document.getElementById('progressFill').style.width = (done / total * 100) + '%';
        
        await new Promise(r => setTimeout(r, 10)); // Allow UI update
      }
      
      document.getElementById('ctxStatus').className = 'status success';
      document.getElementById('ctxStatus').textContent = `‚úÖ Generated ${total} sound files!`;
    }
    
    async function downloadAll() {
      if (generatedFiles.length === 0) {
        await generateAll();
      }
      
      // Download individually (ZIP requires library)
      for (const file of generatedFiles) {
        const url = URL.createObjectURL(file.blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = file.name;
        a.click();
        URL.revokeObjectURL(url);
        await new Promise(r => setTimeout(r, 100));
      }
    }
    
    // Populate file list
    document.getElementById('fileList').textContent = `SFX Files Required:
${Object.keys(SOUNDS).map(s => `assets/audio/sfx/${s}.mp3`).join('\n')}

Music Files Required:
assets/audio/music/hub.mp3
assets/audio/music/combat.mp3
assets/audio/music/combat_intense.mp3
assets/audio/music/boss.mp3
assets/audio/music/victory.mp3
assets/audio/music/death.mp3`;
  </script>
</body>
</html>
